<html>
<head>
  <title>StructureDefinition-CCDA-on-FHIR-US-Realm-Header-inv</title>
  <link rel="stylesheet" href="fhir.css"/>
</head>
<body>
<h4>Constraints</h4>
<table class="list">
<tr><td width="60"><b>Id</b></td><td><b>Path</b></td><td><b>Details</b></td><td><b>Requirements</b></td></tr>
<tr><td>dom-2</td><td>Composition</td><td>If the resource is contained in another resource, it SHALL NOT contain nested Resources<br/>XPath: not(parent::f:contained and f:contained)</td><td></td></tr>
<tr><td>dom-1</td><td>Composition</td><td>If the resource is contained in another resource, it SHALL NOT contain any narrative<br/>XPath: not(parent::f:contained and f:text)</td><td></td></tr>
<tr><td>dom-4</td><td>Composition</td><td>If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated<br/>XPath: not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))</td><td></td></tr>
<tr><td>dom-3</td><td>Composition</td><td>If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource<br/>XPath: not(exists(for $id in f:contained/*/@id return $id[not(ancestor::f:contained/parent::*/descendant::f:reference/@value=concat('#', $id))]))</td><td></td></tr>
<tr><td>ele-1</td><td>Composition.attester</td><td>All FHIR elements must have a @value or children<br/>XPath: @value|f:*|h:div</td><td></td></tr>
<tr><td>ele-1</td><td>Composition.attester</td><td>All FHIR elements must have a @value or children<br/>XPath: @value|f:*|h:div</td><td></td></tr>
<tr><td>ele-1</td><td>Composition.attester</td><td>All FHIR elements must have a @value or children<br/>XPath: @value|f:*|h:div</td><td></td></tr>
<tr><td>ele-1</td><td>Composition.event</td><td>All FHIR elements must have a @value or children<br/>XPath: @value|f:*|h:div</td><td></td></tr>
<tr><td>ele-1</td><td>Composition.section</td><td>All FHIR elements must have a @value or children<br/>XPath: @value|f:*|h:div</td><td></td></tr>
<tr><td>cmp-1</td><td>Composition.section</td><td>A section must at least one of text, entries, or sub-sections<br/>XPath: exists(f:text) or exists(f:entry) or exists(f:section)</td><td></td></tr>
<tr><td>cmp-2</td><td>Composition.section</td><td>A section can only have an emptyReason if it is empty<br/>XPath: not(exists(f:emptyReason) and exists(f:entry))</td><td></td></tr>
</table>
</body>
</html>
